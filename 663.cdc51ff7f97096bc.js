"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[663],{4442:(b,s,r)=>{r.d(s,{bi:()=>A,zI:()=>y});var d=r(649);const A=[{id:1,nameAr:"\u0635\u0628\u0627\u062d\u064a\u0629",nameEn:"Morning",period:d.pH._1,peridesc:"(2:00 - 8:00)"},{id:2,nameAr:"\u0638\u0647\u064a\u0631\u0629",nameEn:"Noon",period:d.pH._2,peridesc:"(5:00 - 2:00)"},{id:3,nameAr:"\u0645\u0633\u0627\u0626\u064a\u0629",nameEn:"Evening",period:d.pH._3,peridesc:"(10:00 - 5:00)"},{id:4,nameAr:"\u0644\u064a\u0644\u064a\u0629",nameEn:"Night",period:d.pH._4,peridesc:"(8:00 - 10:00)"}],y=[{Id:"1",NameAr:"\u0645\u062f\u064a\u0631 \u062e\u0627\u0631\u0642",NameEn:"SuperAdmin"},{Id:"2",NameAr:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0644\u0646\u0638\u0627\u0645",NameEn:"SystemAdmin"},{Id:"3",NameAr:"\u0645\u0624\u0633\u0633\u0629",NameEn:"Organization"},{Id:"4",NameAr:"\u0645\u0648\u0638\u0641",NameEn:"Staff"},{Id:"5",NameAr:"\u0637\u0628\u064a\u0628",NameEn:"Doctor"},{Id:"6",NameAr:"\u0639\u0645\u064a\u0644",NameEn:"Client"}]},2029:(b,s,r)=>{r.d(s,{n:()=>m});var d=r(649);const m=[{id:1,nameAr:"\u0627\u0644\u0623\u062d\u062f",nameEn:"Sunday",day:d.Jc._1},{id:2,nameAr:"\u0627\u0644\u0625\u062b\u0646\u064a\u0646",nameEn:"Monday",day:d.Jc._2},{id:3,nameAr:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",nameEn:"Tuesday",day:d.Jc._3},{id:4,nameAr:"\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621",nameEn:"Wednesday",day:d.Jc._4},{id:5,nameAr:"\u0627\u0644\u062e\u0645\u064a\u0633",nameEn:"Thursday",day:d.Jc._5},{id:6,nameAr:"\u0627\u0644\u062c\u0645\u0639\u0629",nameEn:"Friday",day:d.Jc._6},{id:7,nameAr:"\u0627\u0644\u0633\u0628\u062a",nameEn:"Saturday",day:d.Jc._7}]},5663:(b,s,r)=>{r.r(s),r.d(s,{HospitalDoctorClinicAvailabilityModule:()=>S});var d=r(6814),m=r(1356),p=r(7434),A=r(2029),v=r(4442),a=r(5879),E=r(649),g=r(6223),N=r(2160),f=r(6663);let y=(()=>{class i{transform(t){const n=t.split(":");return`${n[0]}:${n[1]}`}static \u0275fac=function(n){return new(n||i)};static \u0275pipe=a.Yjl({name:"TimeFromateOnlyMinutes",type:i,pure:!0})}return i})();function o(i,c){if(1&i&&(a.TgZ(0,"th",16),a._UZ(1,"br"),a._uU(2),a._UZ(3,"br"),a._uU(4),a.qZA()),2&i){const t=c.$implicit,n=a.oxw();a.xp6(2),a.hij(" ","ar"==n.lang?t.nameAr:t.nameEn," "),a.xp6(2),a.hij(" ",t.peridesc," ")}}function C(i,c){if(1&i&&(a.ynx(0),a.TgZ(1,"span",24),a._uU(2),a.ALo(3,"TimeFromateOnlyMinutes"),a.ALo(4,"TimeFromateOnlyMinutes"),a.qZA(),a.BQk()),2&i){const t=a.oxw().$implicit;a.xp6(2),a.AsE("(",a.lcZ(3,2,t.startAt)," - ",a.lcZ(4,4,t.endAt),")")}}function D(i,c){if(1&i&&(a.TgZ(0,"span",23),a.YNc(1,C,5,6,"ng-container",20),a.TgZ(2,"span"),a._uU(3),a.qZA()()),2&i){const t=c.$implicit;a.xp6(1),a.Q6J("ngIf","00:00:00"!=t.startAt&&"00:00:00"!=t.endAt),a.xp6(2),a.hij(" ",t.doctorName," ")}}function I(i,c){if(1&i&&(a.TgZ(0,"div"),a.YNc(1,D,4,2,"span",22),a.qZA()),2&i){const t=a.oxw().$implicit,n=a.oxw().$implicit,e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.getAvailabilitiesForPeriod(n.hospitalTable,t.id))}}function _(i,c){1&i&&(a.TgZ(0,"div",25)(1,"span",25),a._uU(2," .. "),a.qZA()())}function x(i,c){if(1&i&&(a.TgZ(0,"td",19),a.YNc(1,I,2,1,"div",20),a.YNc(2,_,3,0,"div",21),a.qZA()),2&i){const t=c.$implicit,n=a.oxw().$implicit,e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.hasAvailability(n.hospitalTable,t.id)),a.xp6(1),a.Q6J("ngIf",!e.hasAvailability(n.hospitalTable,t.id))}}function Z(i,c){if(1&i&&(a.TgZ(0,"tr")(1,"td",17),a._uU(2),a.qZA(),a.YNc(3,x,3,2,"td",18),a.qZA()),2&i){const t=c.$implicit,n=a.oxw();a.xp6(2),a.hij(" ",t.specialityName,""),a.xp6(1),a.Q6J("ngForOf",n.uniquePeriods)}}let O=(()=>{class i{service;cdr;dialogService;Cols;Data;lang=localStorage.getItem("language");days=A.n;currentLanguage;showButton=!1;currentHover={};periods=v.bi;uniquePeriods=[];selectedDay;constructor(t,n,e){this.service=t,this.cdr=n,this.dialogService=e,this.lang=localStorage.getItem("language"),this.currentLanguage=localStorage.getItem("language")??"ar"}ngOnChanges(t){this.cdr.detectChanges()}currentRole={arabicName:"",englishName:"",roleDescriptionAr:"",roleDescriptionEn:""};ngOnInit(){this.getData()}extractUniquePeriods(){for(const t of this.Data)for(const n of t.hospitalTable)this.uniquePeriods.find(e=>e.period===n.period)||this.uniquePeriods.push(v.bi.find(e=>e.period===n.period))}getData(){this.Data=[],this.cdr.detectChanges();var t=(new p.l).GetUserOrgId();this.service.getHospitalTable(t,A.n[this.selectedDay.id-1].day,(new p.l).GetUserId()).subscribe({next:e=>{this.Data=e.data,this.extractUniquePeriods(),this.cdr.detectChanges()},error:()=>{}})}hasAvailability(t,n){return t.some(l=>l.period==n&&l.doctorClinicAvailabilities.length>0)}getAvailabilitiesForPeriod(t,n){const e=[];for(const l of t)l.period===n&&e.push(...l.doctorClinicAvailabilities);return e}transformData(t){const e=new Map;return t.forEach(l=>{e.has(l.specialityName)||e.set(l.specialityName,{specialityName:l.specialityName,Periods:Array.from({length:4},(u,h)=>({Period:h+1,doctorClinicAvailabilities:[]}))})}),t.forEach(l=>{e.get(l.specialityName).Periods[l.period-1].doctorClinicAvailabilities.push(...l.doctorClinicAvailabilities)}),Array.from(e.values())}ShowAddDoctorToClinicAvaliability(t){console.log(t)}static \u0275fac=function(n){return new(n||i)(a.Y36(E.r9),a.Y36(a.sBO),a.Y36(m.xA))};static \u0275cmp=a.Xpm({type:i,selectors:[["app-hopital-doctor-clinic-availability"]],features:[a._Bn([m.xA]),a.TTD],decls:17,vars:7,consts:[["id","kt_timeline_widget_2_card",1,"card","h-xl-100"],[1,"card-header","position-relative","py-0","border-bottom-2"],[1,"card-body"],[1,"row","m-10"],[1,"mb-10"],["translate","org.AvaliableDays",1,"form-label"],[1,"dropdown"],["styleClass","fc-primng",3,"options","ngModel","optionLabel","showClear","placeholder","ngModelChange"],[1,"m-10"],["translate","ECOMMERCE.COMMON.SEARCH",1,"btn","btn-success",3,"click"],[1,"col-md-12"],[1,"table","table-bordered"],[2,"text-align","center"],["translate","org.clinics",1,"b-g1","clinics-radius",2,"text-align","center","vertical-align","middle"],["class","b-g",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"b-g"],[1,"b-g",2,"text-align","center","vertical-align","middle"],["class","position-relative",4,"ngFor","ngForOf"],[1,"position-relative"],[4,"ngIf"],["style"," text-align: center; vertical-align: middle;",4,"ngIf"],["class","doctortime",4,"ngFor","ngForOf"],[1,"doctortime"],[2,"color","gray","font-size","12px"],[2,"text-align","center","vertical-align","middle"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a._UZ(5,"label",5),a.TgZ(6,"div",6)(7,"p-dropdown",7),a.NdJ("ngModelChange",function(u){return e.selectedDay=u}),a.qZA()(),a.TgZ(8,"div",8)(9,"button",9),a.NdJ("click",function(){return e.getData()}),a.qZA()()(),a.TgZ(10,"div",10)(11,"table",11)(12,"thead",12),a._UZ(13,"th",13),a.YNc(14,o,5,2,"th",14),a.qZA(),a.TgZ(15,"tbody"),a.YNc(16,Z,4,2,"tr",15),a.qZA()()()()()()()),2&n&&(a.xp6(7),a.Q6J("options",e.days)("ngModel",e.selectedDay)("optionLabel","ar"==e.currentLanguage?"nameAr":"nameEn")("showClear",!1)("placeholder","ar"==e.currentLanguage?"\u0625\u062e\u062a\u0631 \u064a\u0648\u0645":"Choose a day"),a.xp6(7),a.Q6J("ngForOf",e.uniquePeriods),a.xp6(2),a.Q6J("ngForOf",e.Data))},dependencies:[d.sg,d.O5,g.JJ,g.On,N.Lt,f.Pi,y],styles:[".b-g[_ngcontent-%COMP%]{background-color:#68c4d0}.b-g1[_ngcontent-%COMP%]{background-color:#36d1e2}.doctortime[_ngcontent-%COMP%]{display:block;background-color:#37d1e269;margin:12px 2px;border-radius:17px;padding:2px 15px;color:#36918d;font-size:15px}"]})}return i})();var H=r(3758),M=r(7304),T=r(3415),P=r(3660),F=r(2427);let S=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=a.oAB({type:i});static \u0275inj=a.cJS({imports:[d.ez,g.u5,T.m,N.kW,M.Bz.forChild([{path:"",canActivate:[F.o,H.a],component:O,data:{animation:"HopitalDoctorClinicAvailabilityComponent"}}]),f.aw,P.q]})}return i})()}}]);